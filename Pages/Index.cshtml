@page "{handler?}/{tag?}"
@using SkillTreeRazorPageBlogSample.Helper
@using X.PagedList.Mvc.Core
@model IndexModel
@{
    ViewData["Title"] = "Home page";

}

@addTagHelper *,SkillTreeRazorPageBlogSample

<h1 class="my-4">
    Page Heading
    <small>Secondary Text</small>
</h1>

<!-- Blog Post -->
@foreach (var article in Model.Articles)
    {
        <div class="card mb-4">
            <img class="card-img-top" src=@article.CoverImage alt="Card image cap">
            <div class="card-body">
                <h2 class="card-title">@article.Title</h2>
                <p class="card-text">@Html.Raw(article.Content)</p>
                <partial name="_KeywordTag"  for="@article.Tags"></partial>
                  @foreach (var tag in article.Tags.Split(",", StringSplitOptions.RemoveEmptyEntries))
                  {
                      <keyword-tag tag=@tag></keyword-tag>
                  }
                
            </div>
            <div class="card-footer text-muted">
                @article.CreatedAt
            </div>
        </div>
    }

<!-- Pagination -->
@Html.PagedListPager(Model.Articles, page=>Url.Page("Index",new{p=page}), PagingOptionsHelper.FrontEnd)
